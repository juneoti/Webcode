<%@page import="edu.web.member.MemberVO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>회원 정보 조회</title>
<%
    response.setHeader("Cache-Control", "no-store, no-cache, must-revalidate, max-age=0");
    response.setHeader("Pragma", "no-cache");
    response.setDateHeader("Expires", -1);
%>
<script>
    window.onload = function() {
        document.getElementById('username').value = '';
    };
</script>
</head>
<body>
    <h2>회원정보조회</h2>
    <form action="SelectServlet" method="post" autocomplete="off">
        <label for="username">아이디:</label>
        <input type="text" id="username" name="username" required>
        <button type="submit">조회하기</button>
        <button onclick="location.href='login.jsp'">돌아가기</button>
    </form>
    <hr>

    <%
        MemberVO member = (MemberVO) session.getAttribute("memberInfo");
        if (member != null) {
       	session.removeAttribute("memberInfo");
    %>
        <h2><%= member.getUserid() %>님의 회원 정보</h2>
        <p>아이디: <%= member.getUserid() %></p>
        <p>이메일: <%= member.getEmail() %></p>
        <p>관심사: <%= String.join(", ", member.getInterest()) %></p>
        <p>전화번호: <%= member.getPhone() %></p>
        <p>자기소개: <%= member.getIntroduce() %></p>
    <%
        }
    %>
    
</body>
</html>